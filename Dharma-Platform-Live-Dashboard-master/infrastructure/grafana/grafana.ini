[default]
instance_name = dharma-platform

[server]
protocol = http
http_addr = 0.0.0.0
http_port = 3000
domain = localhost
root_url = %(protocol)s://%(domain)s:%(port)s/
serve_from_sub_path = false

[database]
type = postgres
host = postgres:5432
name = grafana
user = grafana
password = grafana_password
ssl_mode = disable

[session]
provider = postgres
provider_config = user=grafana password=grafana_password host=postgres port=5432 dbname=grafana sslmode=disable

[security]
admin_user = admin
admin_password = dharma_admin_password
secret_key = dharma_secret_key_for_grafana
disable_gravatar = true
cookie_secure = false
cookie_samesite = lax

[users]
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_role = Viewer
default_theme = dark

[auth]
disable_login_form = false
disable_signout_menu = false

[auth.anonymous]
enabled = false

[auth.basic]
enabled = true

[auth.ldap]
enabled = false

[smtp]
enabled = true
host = smtp:587
user = grafana@dharma-platform.com
password = smtp_password
from_address = grafana@dharma-platform.com
from_name = Dharma Platform Grafana

[alerting]
enabled = true
execute_alerts = true
error_or_timeout = alerting
nodata_or_nullvalues = no_data
concurrent_render_limit = 5

[metrics]
enabled = true
interval_seconds = 10

[metrics.graphite]
address = graphite:2003
prefix = grafana.%(instance_name)s

[log]
mode = console file
level = info
format = text

[log.console]
level = info
format = text

[log.file]
level = info
format = text
log_rotate = true
max_lines = 1000000
max_size_shift = 28
daily_rotate = true
max_days = 7

[explore]
enabled = true

[help]
enabled = true

[profile]
enabled = true

[query_history]
enabled = true

[unified_alerting]
enabled = true
ha_peers = 
ha_listen_address = 0.0.0.0:9094
ha_advertise_address = 
ha_peer_timeout = 15s
ha_gossip_interval = 200ms
ha_push_pull_interval = 60s
ha_redis_address = redis:6379

[feature_toggles]
enable = ngalert

[plugins]
enable_alpha = false
app_tls_skip_verify_insecure = false
allow_loading_unsigned_plugins = 

[plugin.grafana-image-renderer]
rendering_timezone = UTC
rendering_language = en-US
rendering_viewport_device_scale_factor = 1
rendering_ignore_https_errors = false
rendering_verbose_logging = false
rendering_dumpio = false
rendering_args = 
rendering_chrome_bin = 
rendering_mode = default
rendering_clustering_mode = default
rendering_clustering_max_concurrency = 5